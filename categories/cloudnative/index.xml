<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>CloudNative on Hi,I`m lan</title><link>https://liangyuanpeng.com/categories/cloudnative/</link><description>Recent content in CloudNative on Hi,I`m lan</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 22 Feb 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://liangyuanpeng.com/categories/cloudnative/index.xml" rel="self" type="application/rss+xml"/><item><title>国内环境拉取gcr和k8s镜像</title><link>https://liangyuanpeng.com/post/cncf-k8s/pull-gcr-k8s-image-with-lank8s/</link><pubDate>Wed, 22 Feb 2023 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-k8s/pull-gcr-k8s-image-with-lank8s/</guid><description>前言 本文接下来所有配置都是基于 lank8s服务来做的. containerd crio distribution registry zot registry harbor docker docker pull registry.lank8s.cn/kube-apiserver:v1.26.0 kubeadm 注意 本文还在持续创作中</description></item><item><title>基于Envoy搭建K8S应用开发环境</title><link>https://liangyuanpeng.com/post/cncf-envoy/k8s-app-dev-with-envoy/</link><pubDate>Sun, 19 Feb 2023 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-envoy/k8s-app-dev-with-envoy/</guid><description>主要思想 主要思想是在 K8S 集群中部署一个 Envoy 服务,然后将请求以 L4/L7 的方式代理请求. 例如搭建 webhook 的开发环境时是做 L7 代理,搭建 kube-apiserver 时是做 L4 代理. 注意 本文还在</description></item><item><title>[长期更新]envoy常用</title><link>https://liangyuanpeng.com/post/cncf-envoy/ennoy-faq/</link><pubDate>Thu, 16 Feb 2023 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-envoy/ennoy-faq/</guid><description>说明 本文主要收集常见场景下 Envoy 的配置以及遇到的一些常见问题,欢迎对本文进行投稿你认为好的场景配置或问题. 权重分流 基于权重做灰度发布. - match: prefix: / route:</description></item><item><title>[长期更新]k8s组件常用参数</title><link>https://liangyuanpeng.com/post/cncf-k8s/frozen-for-k8s-gcr-io/</link><pubDate>Thu, 16 Feb 2023 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-k8s/frozen-for-k8s-gcr-io/</guid><description>说明 本文主要收集常见场景下 K8S 组件的配置以及遇到的一些常见问题,欢迎对本文进行投稿你认为好的场景配置或问题.</description></item><item><title>k8s.gcr.io注册表完全冻结</title><link>https://liangyuanpeng.com/post/cncf-k8s/frozen-for-k8s-gcr-io/</link><pubDate>Sat, 11 Feb 2023 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-k8s/frozen-for-k8s-gcr-io/</guid><description>前言 k8s.gcr.io 这个注册表将会在 2023年4月3日完全冻结,新的注册表地址为 registry.k8s.io,在2022年11月28日官方就已经发布了一</description></item><item><title>harbor镜像代理</title><link>https://liangyuanpeng.com/post/cncf-harbor/registry-mirrors-of-harbor/</link><pubDate>Thu, 09 Feb 2023 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-harbor/registry-mirrors-of-harbor/</guid><description>前言 关于 lank8s.cn 关于 lank8s.cn 可以通过 lank8s.cn服务 或 Lank8s Github组织 了解更多.</description></item><item><title>新的容器镜像仓库选择</title><link>https://liangyuanpeng.com/post/cncf-zot/new-container-image-registry-of-zot-from-cncf/</link><pubDate>Wed, 18 Jan 2023 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-zot/new-container-image-registry-of-zot-from-cncf/</guid><description>简介 Zot 是思科开源的遵循 OCI 规范的容器镜像仓库,目前捐赠给了 CNCF,是 Sandbox 级别项目. 本文主要讲述作为镜像代理仓库下的应用场景. 部署 Kubernetes 前提 helm kubernetes cluster 这</description></item><item><title>为containerd配置仓库镜像</title><link>https://liangyuanpeng.com/post/cncf-containerd/registry-mirrors-for-containerd/</link><pubDate>Thu, 12 Jan 2023 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-containerd/registry-mirrors-for-containerd/</guid><description>前言 containerd 的仓库镜像功能是很有用的功能,特别是国内无法访问 gcr.io 和 k8s.gcr.io 以及 registry.k8s.io 这些镜像仓库的情况下. K3S 和 Kind 都提供了比较简单的方式来为内置的 containerd 配置仓库镜像</description></item><item><title>K8S内置准入校验CRD参数配合lua起飞</title><link>https://liangyuanpeng.com/post/cncf-k8s/k8s-validating-admission-policy-with-crdparam-lua/</link><pubDate>Wed, 11 Jan 2023 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-k8s/k8s-validating-admission-policy-with-crdparam-lua/</guid><description>前言 k8s 1.26 推出了内置的准入校验机制,只需要使用 CEL 表达式就可以完成基本的准入校验逻辑,而高级功能包含将参数动态化,可以使用 CRD 资源的某个字段作为参</description></item><item><title>用cel表达式来实现k8s准入校验</title><link>https://liangyuanpeng.com/post/cncf-k8s/k8s-admissionregistration-with-cel/</link><pubDate>Mon, 09 Jan 2023 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-k8s/k8s-admissionregistration-with-cel/</guid><description>前言 在 K8S 1.26 版本以前,达到 K8S 准入校验策略效果的方式有两种： 自己实现 K8S webook 直接使用 CNCF 项目中以 K8S 策略展开的项目,例如OPA、kyverno. 这些都是</description></item><item><title>用GO开发Envoy wasm filter</title><link>https://liangyuanpeng.com/post/cncf-envoy/ennoy-wasm-filter-with-go/</link><pubDate>Sun, 20 Mar 2022 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-envoy/ennoy-wasm-filter-with-go/</guid><description>目标 总结 注意 本文还在持续创作当中,这几天会完成创作.</description></item><item><title>用Rust开发Envoy wasm filter</title><link>https://liangyuanpeng.com/post/cncf-envoy/ennoy-wasm-filter-with-rust/</link><pubDate>Sun, 20 Mar 2022 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-envoy/ennoy-wasm-filter-with-rust/</guid><description>目标 用WASM filter实现WWW-Authenticate认证,并且支持配置域名白名单和URL白名单. 了解envoy-wasm-rust</description></item><item><title>快速开始OpenEBS</title><link>https://liangyuanpeng.com/post/fundation-cncf/quick-start-openebs/</link><pubDate>Sun, 02 Jan 2022 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/fundation-cncf/quick-start-openebs/</guid><description>前言 前提 使用OpenEBS需要机器已经安装了iSCSI 已经安装了kubernetes ubuntu可以用下面的命令安装和开启: sudo apt-get update sudo apt-get install open-iscsi sudo</description></item><item><title>LitmusChaos即将进入孵化阶段</title><link>https://liangyuanpeng.com/post/cncf-litmuschaos/litmus-chaos-incubation-coming/</link><pubDate>Thu, 23 Dec 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-litmuschaos/litmus-chaos-incubation-coming/</guid><description>即将毕业的LitmusChaos 目前LitmusChaos项目正在进入孵化投票阶段,相信很快就会宣布正式成为孵化项目. 投票详情见:https</description></item><item><title>OpenELB进入CNCF沙箱项目</title><link>https://liangyuanpeng.com/post/cncf-openelb/openelb-cncf-sanbox/</link><pubDate>Thu, 23 Dec 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-openelb/openelb-cncf-sanbox/</guid><description>OpenELB是什么 在Kubernetes的世界中有三中service类型,ClusterIP、NodePort和LoadBalancer.</description></item><item><title>快速入门OPA</title><link>https://liangyuanpeng.com/post/cncf-opa/quick-start-open-policy-agent/</link><pubDate>Sun, 19 Dec 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-opa/quick-start-open-policy-agent/</guid><description>什么是OPA 官网介绍 翻译了一段官网的介绍,简单了解下OPA是什么东西. Open Policy Agent是一个开源的通用的策略引擎,它统一了整个技术栈中的策略行</description></item><item><title>主动推送metrics到prometheus</title><link>https://liangyuanpeng.com/post/cncf-prometheus/push-metrics-to-prometheus/</link><pubDate>Thu, 25 Nov 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-prometheus/push-metrics-to-prometheus/</guid><description>前言 一般情况下应用程序配合prometheus收集应用程序的metrics是需要应用程序暴露metrics来让prometheus主动收集信</description></item><item><title>加入contour文档工作组</title><link>https://liangyuanpeng.com/post/cncf-contour/join-contour-docs-wg/</link><pubDate>Sun, 10 Oct 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-contour/join-contour-docs-wg/</guid><description>Because documentation makes a difference The purpose and scope of the Working Group How to participate We look forward to seeing you! Authors Abigail McCarthy - @a-mccarthy Jonas Rosland - @jonasrosland Orlin Vasilev - @OrlinVasilev 注意 本文还在持续翻译中 原文链接 https://projectcontour.io/docs-wg/</description></item><item><title>contour版本发布说明</title><link>https://liangyuanpeng.com/post/cncf-contour/contour-replease-log/</link><pubDate>Wed, 28 Jul 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-contour/contour-replease-log/</guid><description>本系列文章专注于contour版本发布中文说明 Contour Github地址: https://github.com/projectcontour/contour Contour-v1.19.1发布</description></item><item><title>Prometheus2.28.1更新讲解</title><link>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-v2.28.1-update/</link><pubDate>Tue, 27 Jul 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-v2.28.1-update/</guid><description>前言 Prometheus作为第二个从CNCF毕业的顶级项目,其成熟程度是毋庸置疑的,甚至推出了另一个CNCF项目OpenMetrics,希望</description></item><item><title>kubernetes部署longhorn</title><link>https://liangyuanpeng.com/post/cncf-longhorn/k8s-deploy-longhorn/</link><pubDate>Fri, 09 Apr 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-longhorn/k8s-deploy-longhorn/</guid><description>前言 longhorn是rancher公司开源并贡献给CNCF的一个开源分布式存储项目,可用来作为kubernetes的CSI存储. 本文介绍h</description></item><item><title>Prometheus版本发布说明</title><link>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-replease-log/</link><pubDate>Wed, 07 Apr 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-replease-log/</guid><description>本系列文章专注于prometheus版本发布中文说明 Prometheus Github地址: https://github.com/prometheus/prometheus prometheus2.25新特性讲解 prometheus2.26</description></item><item><title>清理SpringBoot应用无用的metrics指标</title><link>https://liangyuanpeng.com/post/springboot-clear-unuse-metrics/</link><pubDate>Wed, 07 Apr 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/springboot-clear-unuse-metrics/</guid><description>前言 上周有个网友问springboot程序的metrics越来越多了,有40W的指标,现在想清除一些没用的metrics,要怎样做呢?! 当时</description></item><item><title>Prometheus2.26rc.0新特性讲解</title><link>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-release-v2.26rc.0/</link><pubDate>Thu, 25 Mar 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-release-v2.26rc.0/</guid><description>前言 Prometheus作为第二个从CNCF毕业的顶级项目,其成熟程度是毋庸置疑的,甚至推出了另一个CNCF项目OpenMetrics,希望</description></item><item><title>prometheus对接CoreDNS实现服务发现</title><link>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-coredns-sd/</link><pubDate>Tue, 23 Mar 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-coredns-sd/</guid><description>启动etcd [root@localhost etcd-v3.2.32-linux-amd64]# ./etcd --listen-peer-urls=&amp;#34;http://0.0.0.0:2380&amp;#34; --listen-client-urls=&amp;#34;http://0.0.0.0:2379&amp;#34; --advertise-client-urls=&amp;#34;http://0.0.0.0:2379&amp;#34; 2021-04-07 16:03:31.438164 W | pkg/flags: unrecognized environment variable ETCD_VER=v3.2.32 2021-04-07 16:03:31.438308 I | etcdmain: etcd Version: 3.2.32 2021-04-07 16:03:31.438321 I | etcdmain: Git SHA: 7dc07f2a9 2021-04-07 16:03:31.438331 I | etcdmain: Go Version: go1.12.17 coredns配置文件 liangyuanpeng.com { etcd { path /skydns endpoint http://192.168.3.181:2379 } prometheus cache loadbalance } .</description></item><item><title>prometheus研习社筹划</title><link>https://liangyuanpeng.com/post/cncf-prometheus/prometheusyxs-pre-prod/</link><pubDate>Thu, 18 Mar 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-prometheus/prometheusyxs-pre-prod/</guid><description>前言 Hi,我正在筹划一个Prometheus研习社的社区,希望整合Prometheus中文技术内容,帮助Prometheus技术在国内的推广</description></item><item><title>Prometheus2.25新特性讲解</title><link>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-v2.25-feature/</link><pubDate>Wed, 17 Mar 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-v2.25-feature/</guid><description>前言 Prometheus作为第二个从CNCF毕业的顶级项目,其成熟程度是毋庸置疑的,甚至推出了另一个CNCF项目OpenMetrics,希望</description></item><item><title>springboot添加prometheus支持</title><link>https://liangyuanpeng.com/post/cncf-prometheus/springboot-support-prometheus/</link><pubDate>Fri, 12 Mar 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-prometheus/springboot-support-prometheus/</guid><description>前言 云原生时代Golang语言开始火热起来,Docker、Kubernetes、Istio、Knative、Prometheus、Influ</description></item><item><title>自动构建algolia索引</title><link>https://liangyuanpeng.com/post/auto-build-algolia-index/</link><pubDate>Fri, 12 Mar 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/auto-build-algolia-index/</guid><description>前言 相信来到这里的朋友都已经知道algolia是什么了,algolia在静态博客领域作为搜索解决方案已经非常主流了,而每次写完博客/文章后都</description></item><item><title>prometheus-alertmanager监控告警系统对接钉钉</title><link>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-alertmanager-monitoring-dingtalk/</link><pubDate>Thu, 11 Mar 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-alertmanager-monitoring-dingtalk/</guid><description>本文还在创作当中，将在这几天正式发布。 前言 本文将会讲解alertmanager对接钉钉,并且会演示通过修改metrics值来触发alertm</description></item><item><title>prometheus-alertmanager监控告警系统快速开始</title><link>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-alertmanager-monitoring-quickstart/</link><pubDate>Thu, 11 Mar 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-prometheus/prometheus-alertmanager-monitoring-quickstart/</guid><description>本文还在创作当中，将在这几天正式发布。 本文将会讲解通过docker-compose部署prometheus、alertmanager、lan</description></item><item><title>k8s-client-go源码剖析(二)</title><link>https://liangyuanpeng.com/post/cncf-kubernetes/k8s-client-go-source-2/</link><pubDate>Sat, 23 Jan 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/cncf-kubernetes/k8s-client-go-source-2/</guid><description>简介：云原生社区活动&amp;mdash;Kubernetes源码剖析第一期第二周 本周是K8S源码研习社第一期第二周，学习内容是学习Informer</description></item><item><title>用docker-compose快速部署ChirpStack</title><link>https://liangyuanpeng.com/post/lorawan/docker-compose-deploy-chirpstack/</link><pubDate>Sun, 17 Jan 2021 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/lorawan/docker-compose-deploy-chirpstack/</guid><description>前提 本文使用docker-compose来部署ChirpStack，请确保已经含有以下环境： Git(非必须，可以先下载源码) Docker Docker-compose 关于Lora</description></item><item><title>不用安装docker也能构建docker镜像</title><link>https://liangyuanpeng.com/post/jib-springboot-docker-maven/</link><pubDate>Tue, 18 Feb 2020 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/jib-springboot-docker-maven/</guid><description>前提 docker 容器镜像仓库 这里举例可以公用的两个 dockerhub 阿里云容器镜像服务 前言 本文主要介绍的是google开源的一个java领域的docker构建工具ji</description></item><item><title>docker常用命令集合</title><link>https://liangyuanpeng.com/post/deploy-command/</link><pubDate>Sun, 09 Feb 2020 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/deploy-command/</guid><description>停止一台机器上的所有容器 docker stop `docker ps -qa` 根据特定关键字删除镜像 docker rmi `docker images | grep NAME` 本文有新内容时将持续更新</description></item><item><title>部署docker swarm集群监控</title><link>https://liangyuanpeng.com/post/deploy-docker-swarm-monitoring/</link><pubDate>Sun, 09 Feb 2020 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/deploy-docker-swarm-monitoring/</guid><description>前提 Docker 前言 现在Docker Swarm已经彻底输给了K8S,但是现在K8S依然很复杂，上手难度较Docker Swarm高，如果是小规模团队且需</description></item><item><title>云原生编程语言ballerina:hello-world</title><link>https://liangyuanpeng.com/post/ballerina-hello-world/</link><pubDate>Wed, 01 Jan 2020 00:00:00 +0000</pubDate><guid>https://liangyuanpeng.com/post/ballerina-hello-world/</guid><description>前言 Ballerina是一款完全开源的编译时强类型语言,愿景是让云原生时代的程序员轻松编写出想要的的软件. 开源地址:https://gith</description></item></channel></rss>