---
layout:     post 
slug:      "ennoy-faq"
title:      "[长期更新]envoy常用"
subtitle:   ""
description: ""
date:       2023-02-16
author:     "梁远鹏"
image: "img/post-bg-2015.jpg"
published: true
tags:
    - envoy 
    - cncf
categories: [ CloudNative ]
---

# 说明

本文主要收集常见场景下 Envoy 的配置以及遇到的一些常见问题,欢迎对本文进行投稿你认为好的场景配置或问题.

# 权重分流

```yaml
- match:
    prefix: /
  route:
    weighted_clusters:
      clusters: 
        - name: lank8scn1
          weight: 50
        - name: lank8scn2
          weight: 50
      total_weight: 100
```

上述配置部分表示匹配前缀为 `/` 的请求并且按照 `1:1` 的权重分流给 `lank8scn1` 和 `lank8scn2`.