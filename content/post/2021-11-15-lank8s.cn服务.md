---
layout:     post 
slug:      "service-lank8s.cn"
title:      "lank8s.cnæœåŠ¡"
subtitle:   ""
description: ""
date:       2021-11-15
author:     "æ¢è¿œé¹"
image: "https://res.cloudinary.com/lyp/image/upload/v1635353670/hugo/banner/pexels-helena-lopes-2253275.jpg"
published: true
tags:
    - lank8scn 
    - tech
categories: [ CloudNative ]
---


Hi there ğŸ‘‹
> å›½å†…å®‰è£…K8SåŸºæœ¬é•œåƒç«™---> lank8s.cn

æ¬¢è¿ä½¿ç”¨ï¼Œæœ‰é—®é¢˜/å»ºè®®éƒ½å¯ä»¥åˆ°lank8scnçš„githubåº“æissue!

`lank8s.cn`çš„ä½¿å‘½æ˜¯å¸Œæœ›å›½å†…èƒ½å¤Ÿæ›´ä½é—¨æ§›çš„å­¦ä¹ KubernetesæŠ€æœ¯!

åœ¨å¾®è½¯çš„é•œåƒä»£ç†èŠ‚ç‚¹è¿˜å¯ç”¨çš„æ—¶å€™,`azk8s.cn`ä¸€ç›´æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©,ä½†æ˜¯2020å¹´ä¸ŠåŠå¹´å¾®è½¯ä¸å†å¯¹å¤–æä¾›azk8sæœåŠ¡,åªå¯¹å¾®è½¯äº‘çš„å›½å†…æœåŠ¡å™¨æä¾›æœåŠ¡,éå¸¸çš„é—æ†¾ã€‚

åœ¨è¿™æ ·ä¸€ä¸ªèƒŒæ™¯ä¸‹æˆ‘åˆ›ç«‹äº†`lank8s.cn`,ç›®å‰åªæä¾›æ­å»ºK8Sæ‰€éœ€è¦çš„æœ€åŸºæœ¬çš„é•œåƒ,å¸Œæœ›å›½å†…æŠ€æœ¯äººåœ¨å­¦ä¹ K8Sä¹‹åˆèƒ½å¤Ÿå¾ˆå¥½çš„è¿›è¡Œä¸€ä¸ªKubernetesçš„Hello World!

ä½¿ç”¨çš„æ–¹å¼ä¹Ÿéå¸¸ç®€å•,å¦‚æœä½¿ç”¨äº†kubeadmæ¥è¿›è¡Œæ­å»ºK8Sé›†ç¾¤,åªéœ€è¦ä¸€è¡Œå‘½ä»¤å°±å¯ä»¥å¿«é€Ÿå¼€å§‹ï¼š

```shell
kubeadm init --image-repository=lank8s.cn --kubernetes-version=v1.17.4 --pod-network-cidr=10.244.0.0/16 --service-cidr=10.96.0.0/12 --ignore-preflight-errors=Swap 
```  

å…¶ä¸­ä½¿ç”¨image-repositoryå‚æ•°æŒ‡å®šé•œåƒçš„ä»“åº“ä¸º`lank8s.cn`å³å¯.

ä¸Šè¿°ä¾‹å­æ˜¯éƒ¨ç½²ä¸€ä¸ª1.17.4ç‰ˆæœ¬çš„K8S,å¦‚éœ€å…¶ä»–ç‰ˆæœ¬å¯è‡ªè¡Œä¿®æ”¹.   

# lank8s.cnå’Œregistry.aliyuncs.com/google_containersçš„åŒºåˆ«  

registry.aliyuncs.com/google_containersæ˜¯å®šæ—¶åŒæ­¥kubernetesçš„é•œåƒåˆ°é˜¿é‡Œé•œåƒä»“åº“æœåŠ¡çš„,ä½†åªæ˜¯K8Sç»„ä»¶çš„é•œåƒ,å¯ä»¥çœ‹ä¸‹å’Œlank8s.cnçš„å¯¹æ¯”:  

   |         | k8sç»„ä»¶é•œåƒ    |  k8s.gcr.ioå…¶ä»–é•œåƒ  |  åŠæ—¶æ€§  |  å®¹æ˜“è®°  |  
   | --------   | -----:   | :----: |  :----: |  :----: |  
   | registry.aliyuncs.com/google_containers       | æ”¯æŒ      |   ä¸æ”¯æŒ    | å®šæ—¶,å­˜åœ¨æ—¶é—´å·®    |  å®¹æ˜“è®°    |  
   | lank8s.cn        | æ”¯æŒ      |   æ”¯æŒ    |  ç›´æ¥ä»k8s.gcr.ioæ‹‰å–,ä¸å­˜åœ¨æ—¶é—´å·®    |   å®¹æ˜“è®°,çŸ­åŸŸå   |  
   
# æŠ€æœ¯ä½¿äººæ‡’æƒ°   

æˆ‘ä»¬çŸ¥é“,ä¸ç®¡ä½¿ç”¨å“ªä¸€ç§æ–¹å¼,æˆ‘ä»¬éƒ½å°‘ä¸äº†çš„æ­¥éª¤æ—¶å†éƒ¨ç½²ä¸€äº›`k8s.gcr.io`çš„èµ„æºæ—¶éœ€è¦åœ¨éƒ¨ç½²å‰å°†`k8s.gcr.io`çš„é•œåƒä¿®æ”¹ä¸ºå›½å†…æŸä¸ªåœ°æ–¹(ä¾‹å¦‚`lank8s.cn`),è¿™æ ·çš„äº‹æƒ…åšå¾—å¤šäº†ä¹Ÿä¼šæ˜¾å¾—ç¹ç.

å› æ­¤æˆ‘ä»¬å³å°†æ¨å‡ºä¸€ä¸ªk8s mutating webhook, è¿™ä¸ªwebhookçš„å”¯ä¸€ä½œç”¨å°±æ˜¯åœ¨åˆ›å»ºæˆ–æ›´æ–°èµ„æº(ä¾‹å¦‚Deployment,Statefulset)å°†`k8s.gcr.io`ä¿®æ”¹ä¸º`lank8s.cn`.åç»­ä¹Ÿä¼šæ”¯æŒå‚æ•°åŒ–,ä¾‹å¦‚æ”¯æŒé…ç½®å°†`registry.aliyuncs.com/google_containers`ä¿®æ”¹ä¸º`lank8s.cn`

# ä»˜è´¹æœåŠ¡  

å³å°†ä¼šæ¨å‡º`quay.io`å’Œ`gcr.io`çš„çŸ­åŸŸåé•œåƒä»£ç†æœåŠ¡,å¹¶ä¸”é‡‡å–æ”¶è´¹ç­–ç•¥,30åŠå¹´,50ä¸€å¹´.æœ‰æ„è€…è¯·åŠ æˆ‘å¾®ä¿¡,è°¢è°¢!  

![weixin](https://res.cloudinary.com/lyp/image/upload/v1614786289/weixin.jpg)

# æ¥å—èµåŠ©

ä¸ºäº†æä¾›æ›´å¥½çš„æœåŠ¡,æˆ‘åœ¨ä¸‹é¢è´´å‡ºä¸¤ä¸ªäºŒç»´ç æ¥å—èµåŠ©,æˆ‘æ‰¿è¯ºæ‰€æœ‰èµåŠ©éƒ½åªä¼šç”¨äºä¼˜åŒ–`lank8s.cn`æœåŠ¡.  

![zhifubao](https://res.cloudinary.com/lyp/image/upload/v1616142335/pay/zhifubao.png)  

![weixin](https://res.cloudinary.com/lyp/image/upload/v1616142330/pay/weixin.png)
